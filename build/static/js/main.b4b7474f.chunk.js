(this["webpackJsonpreact-tuner"]=this["webpackJsonpreact-tuner"]||[]).push([[0],{11:function(e,t,n){},14:function(e,t,n){"use strict";n.r(t);var c=n(1),s=n.n(c),r=n(5),a=n.n(r),i=(n(11),n(3)),o=n.n(i),u=n(6),l=n(4),j=n(0),d=function(e){var t=e.cents<15&&e.cents>-15,n={transform:"rotate(".concat(e.cents,"deg)"),backgroundColor:t?"rgb(144, 214, 155)":"rgb(252, 249, 246, 0.527)"};return Object(j.jsxs)("div",{className:"meter",children:[Object(j.jsx)("div",{id:"low-text",children:"low"}),Object(j.jsxs)("div",{className:"meter-container",children:[Object(j.jsx)("div",{className:"stick",style:n}),Object(j.jsx)("div",{id:"circle"})]}),Object(j.jsx)("div",{id:"high-text",children:"high"})]})};var h=function(e){var t=e.frequency,n=Math.round(Math.log(t/440)/Math.log(2)*12)+69,c=parseInt(n/12)-1,s=440*Math.pow(2,(n-69)/12),r=Math.round(1200*Math.log(t/s)/Math.log(2)),a=["C","C\u266f","D","D\u266f","E","F","F\u266f","G","G\u266f","A","A\u266f","B"][n%12],i=Math.round(100*(t+Number.EPSILON))/100;return Object(j.jsxs)("div",{className:"tuner",children:[Object(j.jsx)(d,{cents:r}),Object(j.jsxs)("div",{className:"tuner-info",children:[isNaN(c)?Object(j.jsx)("h1",{children:"Play something :)"}):Object(j.jsxs)("h1",{children:[" ",a," ",Object(j.jsx)("sub",{children:c})]}),isNaN(r)?null:Object(j.jsxs)("h2",{className:"frequency-cents",children:[r," Cents"]}),-1.46===i?null:Object(j.jsxs)("h2",{className:"frequency",children:[i," Hz"]})]})]})};var b=function(){var e=Object(c.useState)(!1),t=Object(l.a)(e,2),n=t[0],s=t[1],r=Object(c.useState)(""),a=Object(l.a)(r,2),i=a[0],d=a[1];Object(c.useEffect)((function(){n||navigator.mediaDevices.getUserMedia({audio:!0}).then((function(e){s(!0),b(e)})).catch((function(e){alert("Does not have mic permission: ".concat(e.name))}))}));var b=function(){var e=Object(u.a)(o.a.mark((function e(t){var n,c,s,r,a,i,u,l,j;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=new(window.AudioContext||window.webkitAudioContext),(c=n.createAnalyser()).fftSize=32768,n.createMediaStreamSource(t).connect(c),s=n.sampleRate/2,r=c.frequencyBinCount,a=new Float32Array(r);case 8:for(c.getFloatFrequencyData(a),i=-70,u=-1,l=0;l<r;l++)(j=a[l])>i&&(i=j,u=l);return d(u*(s/r)),e.next=17,f(10);case 17:e.next=8;break;case 19:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(e){return new Promise((function(t){return setTimeout(t,e)}))},x={transform:"scale(".concat(i/2e3+1,")")},O={transform:"scale(".concat(i/1e3+1,")")};return Object(j.jsxs)("div",{className:"App",children:[Object(j.jsx)("span",{class:"dot"}),Object(j.jsx)("span",{class:"dot-tuning",style:x}),Object(j.jsx)("span",{class:"dot-tuning-more",style:O}),Object(j.jsx)(h,{frequency:i})]})};a.a.render(Object(j.jsx)(s.a.StrictMode,{children:Object(j.jsx)(b,{})}),document.getElementById("root"))}},[[14,1,2]]]);
//# sourceMappingURL=main.b4b7474f.chunk.js.map